<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<!-- Personnel Expenses -->
		<record id="personnel_expenses_form_view" model="ir.ui.view">
			<field name="name">personnel_expenses_form_view</field>
			<field name="model">account.personnel.expenses</field>
			<field name="arch" type="xml">
				<form>
					<header>
						<button name="action_done" type="object" states="draft"
						        confirm="Bạn có chắc chắn ghi nhận hạch toán chi phí lương?"
						        string="Confirm" class="oe_highlight"/>
						<button name="action_cancel" type="object" states="done"
						        confirm="Bạn có chắc chắn hủy hạch toán chi phí lương?"
						        string="Cancel"/>
						<field name="state" widget="statusbar" statusbar_visible="draft,done"
						       readonly="1"/>
					</header>
					<sheet>
						<div class="oe_button_box" name="button_box">
                            <button type="object" name="action_view_move"
                                    class="oe_stat_button"
                                    icon="fa-pencil-square-o"
                                    attrs="{'invisible': [('total_entries', '=', 0)]}">
                                <field name="total_entries" widget="statinfo" string="Journal Entries"/>
                                <field name='move_ids' invisible="1"/>
                            </button>
                        </div>
						<div>
							<h1>
								<field name="name" required="True" placeholder="Your description....."/>
							</h1>
						</div>
						<group>
							<group>
								<field name="expenses_number" attrs="{'readonly': [('state','not in',['draft'])]}"/>
							</group>
						</group>
						<group>
							<group>
								<field name="account_fiscal_month_id" required="1"
								       attrs="{'readonly': [('state','not in',['draft'])]}"/>
								<field name="date_document" required="1"
								       attrs="{'readonly': [('state','not in',['draft'])]}"/>
								<field name="journal_id" required="1" options="{'no_create': True}" domain="[('company_id', '=', company_id)]"
								       attrs="{'readonly': [('state','not in',['draft'])]}"/>
							</group>
							<group>
								<field name="date_accounting" required="1"
								       attrs="{'readonly': [('state','not in',['draft'])]}"/>
								<field name="company_id" force_save="1" options="{'no_create': True}"
								       attrs="{'readonly': [('state','not in',['draft'])]}"/>
							</group>
						</group>
						<notebook>
							<page name="personnel_expenses" string="Expenses Lines">
								<field name="field_binary" filename="field_binary_name"
								       attrs="{'invisible' : [('state', '!=', 'draft')]}"/>
								<field name="field_binary_name" invisible="1"/>
								<button name="action_import" type="object" states="draft"
								        attrs="{'invisible' : [('field_binary', '=', False)]}"
								        string="Import"/>
								<button name="action_download_template" type="object" string="Download Template"
						        class="btn btn-link" style="text-decoration: underline;"
						        help="Mẫu import có định dạng là xls hoặc xlsx"/>
								<field name="lines" attrs="{'readonly':[('state','!=','draft')]}">
									<tree editable="1">
										<field name="part_id" options="{'no_create': True}"/>
										<field name="partner_id" options="{'no_create': True}"/>
										<field name="fee_item" options="{'no_create': True}"/>
										<field name="analytic_id" options="{'no_create': True}"/>
										<field name="object_id" options="{'no_create': True}" invisible="1"/>
										<field name="debit_acc_id" required="1" options="{'no_create': True}"/>
										<field name="credit_acc_id" required="1" options="{'no_create': True}"/>
										<field name="amount" sum="Total Amount" required="1"/>
										<button name="action_show_details" string="Show Journal Entry" type="object"
										        icon="fa-list" options='{"warn": true}'/>
									</tree>
									<form>
										<group>
											<group>
												<field name="part_id" options="{'no_create': True}"/>
												<field name="partner_id" required="1" options="{'no_create': True}"/>
												<field name="fee_item" options="{'no_create': True}"/>
												<field name="analytic_id" options="{'no_create': True}"/>
												<field name="object_id" options="{'no_create': True}" invisible="1"/>
											</group>
											<group>
												<field name="debit_acc_id" required="1" options="{'no_create': True}"/>
												<field name="credit_acc_id" required="1" options="{'no_create': True}"/>
												<field name="amount" required="1"/>
											</group>
										</group>
									</form>
								</field>
								<group>
									<field name="description"/>
								</group>
							</page>
						</notebook>

						<div class="oe_chatter">
							<field name="message_follower_ids" widget="mail_followers"/>
							<field name="activity_ids" widget="mail_activity"/>
							<field name="message_ids" widget="mail_thread"/>
						</div>
					</sheet>
				</form>
			</field>
		</record>
		<record id="personnel_expenses_tree_view" model="ir.ui.view">
			<field name="name">personnel_expenses_tree_view</field>
			<field name="model">account.personnel.expenses</field>
			<field name="arch" type="xml">
				<tree default_order='date_accounting asc'>
					<field name="expenses_number"/>
					<field name="name"/>
					<field name="account_fiscal_month_id"/>
					<field name="date_accounting"/>
					<field name="description"/>
					<field name="amount_total" sum="Total"/>
					<field name="state"/>
				</tree>
			</field>
		</record>
		<record id="action_personnel_expenses" model="ir.actions.act_window">
			<field name="name">Personnel Expenses</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">account.personnel.expenses</field>
			<field name="view_mode">tree,form</field>
		</record>

		<menuitem id="menu_ev_salary" name="Salary" sequence="100" groups="account.group_account_user"
                  parent="account.menu_finance_entries"/>

        <menuitem id="menu_personnel_expenses" name="Account Personnel Expenses" parent="menu_ev_salary"
                  groups="account.group_account_user"
                  action="action_personnel_expenses" sequence="1"/>
	</data>
</odoo>